{
    "_id": "beaver-logger",
    "_rev": "69-a8bdf9fd1c6b46c256d9c83b9609b715",
    "name": "beaver-logger",
    "time": {
        "modified": "2021-02-23T19:35:06.659Z",
        "created": "2016-05-28T00:53:50.814Z",
        "1.0.0": "2016-05-28T00:53:50.814Z",
        "1.0.5": "2016-05-28T01:18:14.967Z",
        "1.0.6": "2016-05-31T05:23:28.486Z",
        "1.0.7": "2016-06-04T03:02:12.028Z",
        "1.0.8": "2016-06-28T02:44:47.203Z",
        "1.0.9": "2016-07-20T20:47:57.629Z",
        "1.0.10": "2016-07-20T21:19:12.985Z",
        "1.0.11": "2016-08-12T16:45:15.833Z",
        "1.0.12": "2016-08-13T03:09:12.567Z",
        "1.0.13": "2016-08-16T22:01:20.103Z",
        "1.0.15": "2016-08-18T20:58:43.327Z",
        "1.0.16": "2016-08-18T23:37:04.923Z",
        "2.0.1": "2016-10-24T19:31:43.040Z",
        "2.0.2": "2016-10-27T16:28:50.591Z",
        "1.0.17": "2016-11-03T00:25:44.420Z",
        "2.0.3": "2017-02-11T00:40:17.698Z",
        "2.0.4": "2017-02-28T06:28:54.146Z",
        "2.0.5": "2017-03-11T23:37:01.020Z",
        "2.0.6": "2017-03-19T00:50:56.615Z",
        "2.0.7": "2017-03-19T01:25:51.355Z",
        "2.0.8": "2017-04-06T20:33:40.292Z",
        "3.0.0": "2017-04-18T04:40:40.387Z",
        "3.0.1": "2017-04-18T05:21:39.965Z",
        "3.0.2": "2017-04-18T05:37:17.410Z",
        "3.0.3": "2017-04-18T06:07:27.864Z",
        "3.0.4": "2017-05-09T17:41:59.083Z",
        "3.0.5": "2017-06-15T22:44:23.102Z",
        "3.0.6": "2017-06-16T03:22:37.666Z",
        "3.0.7": "2017-07-19T23:24:35.580Z",
        "3.0.8": "2017-07-21T23:30:00.916Z",
        "3.0.9": "2017-07-25T15:04:28.524Z",
        "3.0.10": "2017-09-06T22:53:26.114Z",
        "3.0.11": "2017-11-13T23:41:54.289Z",
        "3.0.12": "2018-03-22T05:16:35.064Z",
        "3.0.13": "2018-04-04T17:55:06.021Z",
        "3.0.14": "2018-04-11T00:23:58.548Z",
        "3.0.15": "2018-08-13T20:47:09.649Z",
        "3.0.16": "2018-08-13T21:03:55.816Z",
        "3.0.17": "2018-08-13T21:17:13.023Z",
        "4.0.0": "2018-08-15T21:23:47.007Z",
        "4.0.1": "2018-08-15T21:52:48.280Z",
        "4.0.2": "2018-08-15T22:55:10.341Z",
        "4.0.3": "2018-08-16T00:10:13.720Z",
        "4.0.4": "2018-08-16T00:41:09.155Z",
        "4.0.5": "2018-09-12T17:30:51.602Z",
        "4.0.6": "2018-11-04T22:43:13.536Z",
        "4.0.7": "2019-02-26T01:42:06.744Z",
        "4.0.8": "2019-02-26T19:22:12.527Z",
        "4.0.9": "2019-02-26T21:35:15.023Z",
        "4.0.10": "2019-04-22T20:42:02.497Z",
        "4.0.11": "2019-04-22T20:48:38.587Z",
        "3.0.18": "2019-06-05T21:12:41.424Z",
        "3.0.19": "2019-06-05T21:14:14.187Z",
        "4.0.12": "2019-06-12T22:49:24.331Z",
        "4.0.13": "2019-12-19T04:33:05.987Z",
        "4.0.14": "2019-12-19T04:51:05.576Z",
        "4.0.15": "2020-07-17T18:02:53.545Z",
        "4.0.16": "2020-08-31T16:47:41.894Z",
        "4.0.17": "2020-09-01T16:54:43.404Z",
        "4.0.18": "2020-09-02T03:36:15.401Z",
        "4.0.20": "2020-09-28T17:42:22.744Z",
        "4.0.21": "2020-10-02T23:12:57.112Z",
        "4.0.22": "2021-01-22T18:54:40.962Z",
        "4.0.23": "2021-01-25T21:13:27.770Z",
        "4.0.24": "2021-02-17T00:18:55.207Z",
        "4.0.25": "2021-02-23T19:35:03.254Z"
    },
    "maintainers": [
        {
            "name": "mstuart",
            "email": "stuartmark@gmail.com"
        },
        {
            "name": "bluepnume",
            "email": "daniel@bluesuncorp.co.uk"
        },
        {
            "name": "mnicpt",
            "email": "mnicpt@gmail.com"
        }
    ],
    "dist-tags": {
        "latest": "4.0.25"
    },
    "description": "Client side logger.",
    "readme": "beaver-logger\n------------\n\nFront-end logger, which will:\n\n- Buffer your front-end logs and periodically send them to the server side\n- Automatically flush logs for any errors or warnings\n\nThis is a great tool to use if you want to do logging on the client side in the same way you do on the server, without worrying about sending off a million beacons. You can quickly get an idea of what's going on on your client, including error cases, page transitions, or anything else you care to log!\n\nOverview\n---------\n\n## Setup\n\n```javascript\nvar $logger = beaver.Logger({\n    url: '/my/logger/url'\n});\n```\n\n## Basic logging\n\n### `$logger.info(<event>, <payload>);`\n\nQueues a log. Options are `debug`, `info`, `warn`, `error`.\n\nFor example:\n\n`$logger.error('something_went_wrong', { error: err.toString() })`\n\n### `$logger.track(<payload>);`\n\nCall this to attach general tracking information to the current page. This is useful if the data is not associated with a specific event, and will be sent to the server the next time the logs are flushed.\n\n## Advanced\n\n### `$logger.addMetaBuilder(<function>);`\n\nAttach a method which is called and will attach general information to the logging payload whenever the logs are flushed\n\n```javascript\n$logger.addMetaBuilder(function() {\n    return {\n        current_page: getMyCurrentPage()\n    };\n});\n```\n\n### `$logger.addPayloadBuilder(<function>);`\n\nAttach a method which is called and will attach values to **each individual log's payload** whenever the logs are flushed\n\n```javascript\n$logger.addPayloadBuilder(function() {\n    return {\n        performance_ts: window.performance.now()\n    };\n});\n```\n\n### `$logger.addTrackingBuilder(<function>);`\n\nAttach a method which is called and will attach values to **each individual log's tracking** whenever the logs are flushed\n\n```javascript\n$logger.addTrackingBuilder(function() {\n    return {\n        pageLoadTime: getPageLoadTime()\n    };\n});\n```\n\n### `$logger.addHeaderBuilder(<function>);`\n\nAttach a method which is called and will attach values to **each individual log requests' headers** whenever the logs are flushed\n\n```javascript\n$logger.addHeaderBuilder(function() {\n    return {\n        'x-csrf-token': getCSRFToken()\n    };\n});\n```\n\n### `$logger.flush();`\n\nFlushes the logs to the server side. Recommended you don't call this manually, as it will happen automatically after a configured interval.\n\n\nInstalling\n----------\n\n- Install via npm\n\n`npm install --save beaver-logger`\n\n- Include in your project\n\n```html\n<script src=\"/js/beaver-logger.min.js\"></script>\n```\n\nor\n\n```javascript\nlet $logger = require('beaver-logger');\n```\n\n\nConfiguration\n-------------\n\nFull configuration options:\n\n```javascript\nvar $logger = beaver.Logger({\n\n    // Url to send logs to\n    url: '/my/logger/url',\n\n    // Prefix to prepend to all events\n    prefix: 'myapp',\n\n    // Log level to display in the browser console\n    logLevel: beaver.LOG_LEVEL.WARN,\n\n    // Interval to flush logs to server\n    flushInterval: 60 * 1000,\n\n    // Use sendBeacon if supported rather than XHR to send logs; defaults to false\n    enableSendBeacon: true,\n});\n```\n\nServer Side\n-----------\n\nbeaver-logger includes a small node endpoint which will automatically accept the logs sent from the client side. You can mount this really easily:\n\n```javascript\nlet beaverLogger = require('beaver-logger/server');\n\nmyapp.use(beaverLogger.expressEndpoint({\n\n    // URI to recieve logs at\n    uri: '/api/log',\n\n    // Custom logger (optional, by default logs to console)\n    logger: myLogger,\n\n    // Enable cross-origin requests to your logging endpoint\n    enableCors: false\n}))\n```\n\nOr if you're using kraken, you can add this in your `config.json` as a middleware:\n\n```json\n      \"beaver-logger\": {\n          \"priority\": 106,\n          \"module\": {\n              \"name\": \"beaver-logger/server\",\n              \"method\": \"expressEndpoint\",\n              \"arguments\": [\n                  {\n                      \"uri\": \"/api/log\",\n                      \"logger\": \"require:my-custom-logger-module\"\n                  }\n              ]\n          }\n      }\n```\n\nCustom backend logger\n---------------------\n\nSetting up a custom logger is really easy, if you need to transmit these logs to some backend logging service rather than just logging them to your server console:\n\n```javascript\nmodule.exports = {\n\n    log: function(req, level, event, payload) {\n\n        logSocket.send(JSON.stringify({\n            level: level,\n            event: event,\n            payload: payload\n        }));\n    }\n}\n```\n\n\nData Flow\n---------\n\n![Flow](/flow.png?raw=true)\n",
    "versions": {
        "4.0.25": {
            "name": "beaver-logger",
            "version": "4.0.25",
            "description": "Client side logger.",
            "main": "dist/beaver-logger.js",
            "scripts": {
                "setup": "npm install && npm run flow-typed",
                "lint": "eslint src/ server/ test/ *.js",
                "flow-typed": "rm -rf ./flow-typed && flow-typed install && flow-typed install express@4",
                "flow": "flow",
                "karma": "cross-env NODE_ENV=test babel-node --plugins=transform-es2015-modules-commonjs ./node_modules/.bin/karma start",
                "babel": "babel src/ --out-dir dist/module",
                "babel-server": "babel ./server/*.js --ignore=node_modules --out-dir ./server",
                "babel-server-test": "babel ./server/*.js --ignore=node_modules --out-dir ./demo/beaver-logger",
                "webpack": "babel-node --config-file ./node_modules/grumbler-scripts/config/.babelrc-node --plugins=transform-es2015-modules-commonjs ./node_modules/.bin/webpack --display-optimization-bailout --progress",
                "test": "npm run lint && npm run flow-typed && npm run flow && npm run karma",
                "build": "npm run test && npm run babel && npm run webpack",
                "release": "./publish.sh",
                "release:patch": "./publish.sh patch",
                "release:minor": "./publish.sh minor",
                "release:major": "./publish.sh major",
                "clean": "rimraf dist coverage",
                "reinstall": "rimraf flow-typed && rimraf node_modules && npm install && flow-typed install",
                "prepublishOnly": "npm run babel-server",
                "postpublish": "git checkout server"
            },
            "repository": {
                "type": "git",
                "url": "git://github.com/krakenjs/beaver-logger.git"
            },
            "keywords": [
                "logging",
                "logger",
                "log",
                "krakenjs",
                "kraken"
            ],
            "licenses": [
                {
                    "type": "Apache 2.0",
                    "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
                }
            ],
            "devDependencies": {
                "flow-bin": "0.135.0",
                "grumbler-scripts": "^3",
                "mocha": "^3.5.3",
                "sync-browser-mocks": "^1.0.44"
            },
            "dependencies": {
                "belter": "^1.0.17",
                "zalgo-promise": "^1.0.26"
            },
            "contributors": [
                {
                    "name": "Daniel Brain",
                    "email": "dbrain@paypal.com"
                },
                {
                    "name": "Praveen Gorthy",
                    "email": "vgorthy@paypal.com"
                },
                {
                    "name": "Joel Chen",
                    "email": "joechen@paypal.com"
                },
                {
                    "name": "Meng Shi",
                    "email": "menshi@paypal.com"
                },
                {
                    "name": "Mark Stuart",
                    "email": "marstuart@paypal.com"
                },
                {
                    "name": "Abilash Badri",
                    "email": "abadri@paypal.com"
                },
                {
                    "name": "Alfredo Barco",
                    "email": "abarco@paypal.com"
                },
                {
                    "name": "Stephen Westhafer",
                    "email": "swesthafer@paypal.com"
                }
            ],
            "gitHead": "45a8b11b2940fb9b0f23ee9a5e4007ddebabb5a4",
            "bugs": {
                "url": "https://github.com/krakenjs/beaver-logger/issues"
            },
            "homepage": "https://github.com/krakenjs/beaver-logger#readme",
            "_id": "beaver-logger@4.0.25",
            "_nodeVersion": "12.18.2",
            "_npmVersion": "6.14.5",
            "dist": {
                "integrity": "sha512-bJMbdrot8tlkFtztTJH63hYQhig0oNaz/f9XnQTy/qP4lOuJMfL31qB1Jb04VIvCkHavBjTptqak/uahQLdmBQ==",
                "shasum": "eba1090b5652b0f0c8fddd2311d16640ed0383c2",
                "tarball": "https://www.paypalobjects.com/js-sdk-release/beaver-logger/tarballs/4.0.25.tgz",
                "fileCount": 28,
                "unpackedSize": 976803,
                "npm-signature": "-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.13\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJgNVjnCRA9TVsSAnZWagAAOYYP/jc2PSDhidUj6SMONvmX\nj+LeFlfO995H6TA3hzV35ySs6W2sfBSUmckBI2QuumdZxFkEILEjX/BmdMFx\nzeh97sOEDIX3TRd7poNLxT432hYoypSpXAsSf20qk0c6qQtW5tQHF+1dICXl\n74/oWD9UhdhUIBEXTs2xbjKvtjxnrtHbCpODVr6FQ3FC3+rZWMkOFlhBXGRp\nOECFiw8AxF4tox2J8+LvIPkEHCXNYqQjUdtO/wORVb8hHKyBPzEYbiSvgc6T\nHCT+PyC2t1qqdbFTF96dKTvd5mXNsYY1mpOexVPwuGKuQEewR7soSUZmUHyM\ny8SE/lw6x4qFsYkrK13pzdAVFqe5KV29RH9BepVZyMwU+wps99pTNgjN41I5\nxkDYINBCtR4PyFgC36hoHSBSwXHAJG8WpMX7iaAlIw5N2H9yVjfchAf4mjnP\nre1FprOJ2Pw+I7/96OzLMSpUlrzXVR0k7aW1hRTa6PS7QsgT4MX884FsjhhT\n8g0mhB3DHXvKneu7adx012L9s0Bpb1hlZNiMQn34DhVnFVRcE3vbPita04xW\nQYTt6EbTB6hqqxi0ZSbqxZOp8xo6oqplEjtnKOUhW0ZctRQw+wgXK+CcKNFD\n6ELYKoQcgax8Ap9jEgWOsTJ4FHthXROdid+dXN3axnS8wXKYlLhpwXpbjGME\nb0YE\r\n=Ut1Q\r\n-----END PGP SIGNATURE-----\r\n"
            },
            "_npmUser": {
                "name": "bluepnume",
                "email": "daniel@bluesuncorp.co.uk"
            },
            "directories": {},
            "maintainers": [
                {
                    "name": "mstuart",
                    "email": "stuartmark@gmail.com"
                },
                {
                    "name": "bluepnume",
                    "email": "daniel@bluesuncorp.co.uk"
                },
                {
                    "name": "mnicpt",
                    "email": "mnicpt@gmail.com"
                }
            ],
            "_npmOperationalInternal": {
                "host": "s3://npm-registry-packages",
                "tmp": "tmp/beaver-logger_4.0.25_1614108903040_0.5914962672491544"
            },
            "_hasShrinkwrap": false
        }
    },
    "homepage": "https://github.com/krakenjs/beaver-logger#readme",
    "keywords": [
        "logging",
        "logger",
        "log",
        "krakenjs",
        "kraken"
    ],
    "repository": {
        "type": "git",
        "url": "git://github.com/krakenjs/beaver-logger.git"
    },
    "contributors": [
        {
            "name": "Daniel Brain",
            "email": "dbrain@paypal.com"
        },
        {
            "name": "Praveen Gorthy",
            "email": "vgorthy@paypal.com"
        },
        {
            "name": "Joel Chen",
            "email": "joechen@paypal.com"
        },
        {
            "name": "Meng Shi",
            "email": "menshi@paypal.com"
        },
        {
            "name": "Mark Stuart",
            "email": "marstuart@paypal.com"
        },
        {
            "name": "Abilash Badri",
            "email": "abadri@paypal.com"
        },
        {
            "name": "Alfredo Barco",
            "email": "abarco@paypal.com"
        },
        {
            "name": "Stephen Westhafer",
            "email": "swesthafer@paypal.com"
        }
    ],
    "bugs": {
        "url": "https://github.com/krakenjs/beaver-logger/issues"
    },
    "readmeFilename": "README.md"
}